<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Work 1 JQuery</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        #view2 img{
            width: 150px;
            height: 150px;
        }
        
        #view2 .col{
            padding: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <div class="card-header bg-primary text-white">Work 1</div>
            <div class="card-body">
                <div id="view1">
                    <button id="playBtn" class="btn btn-success">เริ่มเล่น</button>
                    <a href="" class="btn btn-danger">ย้อนกลับ</a>
                </div>
                <div id="view2">
                  <div class="row">
                      <div class="col"><img src="p/img0.jpg" id="img1"></div>
                      <div class="col"><img src="p/img0.jpg" id="img2"></div>
                      <div class="col"><img src="p/img0.jpg" id="img3"></div>
                      <div class="col"><img src="p/img0.jpg" id="img4"></div>
                      <div class="col"><img src="p/img0.jpg" id="img5"></div>
                      <div class="col"><img src="p/img0.jpg" id="img6"></div>
                  </div>
                  <div class="row">
                        <div class="col"><img src="p/img0.jpg" id="img7"></div>
                        <div class="col"><img src="p/img0.jpg" id="img8"></div>
                        <div class="col"><img src="p/img0.jpg" id="img9"></div>
                        <div class="col"><img src="p/img0.jpg" id="img10"></div>
                        <div class="col"><img src="p/img0.jpg" id="img11"></div>
                        <div class="col"><img src="p/img0.jpg" id="img12"></div>
                    </div>
                    <div class="row">
                        <div class="col"><img src="p/img0.jpg" id="img13"></div>
                        <div class="col"><img src="p/img0.jpg" id="img14"></div>
                        <div class="col"><img src="p/img0.jpg" id="img15"></div>
                        <div class="col"><img src="p/img0.jpg" id="img16"></div>
                        <div class="col"><img src="p/img0.jpg" id="img17"></div>
                        <div class="col"><img src="p/img0.jpg" id="img18"></div>
                        </div>
                    <div class="row">
                        <div class="col"><img src="p/img0.jpg" id="img19"></div>
                        <div class="col"><img src="p/img0.jpg" id="img20"></div>
                        <div class="col"><img src="p/img0.jpg" id="img21"></div>
                        <div class="col"><img src="p/img0.jpg" id="img22"></div>
                        <div class="col"><img src="p/img0.jpg" id="img23"></div>
                        <div class="col"><img src="p/img0.jpg" id="img24"></div>
                    </div>
                    <div class="row">
                        <div class="col"><img src="p/img0.jpg" id="img25"></div>
                        <div class="col"><img src="p/img0.jpg" id="img26"></div>
                        <div class="col"><img src="p/img0.jpg" id="img27"></div>
                        <div class="col"><img src="p/img0.jpg" id="img28"></div>
                        <div class="col"><img src="p/img0.jpg" id="img29"></div>
                        <div class="col"><img src="p/img0.jpg" id="img30"></div>
                    </div>
                    <div class="row">
                        <div class="col"><img src="p/img0.jpg" id="img31"></div>
                        <div class="col"><img src="p/img0.jpg" id="img32"></div>
                        <div class="col"><img src="p/img0.jpg" id="img33"></div>   
                        <div class="col"><img src="p/img0.jpg" id="img34"></div>
                        <div class="col"><img src="p/img0.jpg" id="img35"></div>
                        <div class="col"><img src="p/img0.jpg" id="img36"></div>
                        </div>
                    <button id="stopBtn" class="btn btn-danger">ออกจากเกม</button>
                </div>
                <div id="view3">
                    <h1>ยินดีด้วย คุณชนะ</h1>
                    <button id="okBtn" class="btn btn-primary">ออกจากเกม</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $(function(){
            $("#view2").hide()
            $("#view3").hide()
            $("#playBtn").click(startgame)
            $("#stopBtn").click(stopgame)
            $("#okBtn").click(okgame)
            $("#view2 img").click(imgcilck)
        });
       
        function imgcilck(){
            if($(this).attr("src")!="p/img0.jpg") return;
            if(cards_opened.length<2){
            var s=$(this).attr("srcx");
            $(this).attr("src",s);
            cards_opened.push(this);
            if(cards_opened.length==2){
                setTimeout(checkcard,2000);
            }
        }
        }
        function checkcard(){
            var a=cards_opened[0];
            var b=cards_opened[1];
            cards_opened=[];   
            if($(a).attr("srcx")==$(b).attr("srcx")){
                $(a).hide();
                $(b).hide();
                card_cound-=2;
            }else{
                $(a).attr("src","p/img0.jpg");
                $(b).attr("src","p/img0.jpg");
            }
            if(card_cound==0){
                $("#view2").hide()
                $("#view3").show()
            }
        }
        function startgame(){
            $("#view1").hide()
            $("#view2").show()
            cards_opened=[];
            card_cound=36;
            shuffer();
        }
        function stopgame(){
            $("#view2").hide()
            $("#view1").show()
        }
        function okgame(){
            $("#view3").hide()
            $("#view1").show()
        }
        function shuffer(){
            var list=[];
            for(var i=1;i<=18;i++){
                list.push(i);
                list.push(i);
            }
            console.log(list);
            for(var i=1;i<=100;i++){
                var a=Math.round(Math.random()*35);
                var b=Math.round(Math.random()*35);
                var t=list[a];
                list[a]=list[b];
                list[b]=t;
            }
            console.log(list);
            for(var i=0;i<=36;i++){
                $("#img"+(i+1)).attr("src","p/img0.jpg")
                $("#img"+(i+1)).attr("srcx","p/"+list[i]+".jpg")
            }
        }
    </script>
</body>

</html>